{% extends base_template %}

{% load static %}

{% block dashboard-body %}

<a href="all_student"><button class="btn btn-secondary" ><-- Back to Student List</button></a><br><br>
<center><h2 style="font-family:bold;margin:50px;">STUDENT DETAILS</h2></center><br>

<center>
<section id="teacher-detail-section">
  <div id="teacher-detail-section--inner">
    <div class="container">
      <div class="row py-5">
        <div class="col-12">
         <center><img class="teacher-profile-img"
             {% if std.photo %}
                src="{{ std.photo }}"
             {% else %}
                {% static 'images/money.jpg' %}
             {% endif %}
            alt="" width="150" height="150"></center><br>
        </div><br>
        <div class="col-12">
          <br><center><h2>{{ std.name }}</h2>
          <p></p>
          <br><a href="" class="btn btn-danger">Delete Profile</a></center>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="row" style="margin-top:80px;">
  <div class="container-fluid">
    <div class="col-9">
      <table class="table table-bordered">
        <thead >
          <tr>
            <th scope="col">Name</th>
            <td>{{ std.name }}</td>
          </tr>
          
          <tr>
            <th scope="col">Registration Number</th>
            <td>{{ std.RegistrationNo }}</td>
          </tr>

          <tr>
            <th scope="col">Contact</th>
            <td>{{ std.mobile|default_if_none:"" }}</td>
          </tr>

          <tr>
            <th scope="col">Date Of Birth</th>
            <td>{{ std.date_of_birth }}</td>
          </tr>

          <tr>
            <th scope="col">Semester</th>
            <td>{{ std.Semester.Semester }}</td>
          </tr>
          
          <tr>
            <th scope="col">Section</th>
            <td>{{ std.Section }}</td>
          </tr>

          <tr>
            <th scope="col">Department</th>
            <td>{{ std.Department }}</td>

            {% if request.user.user_type == 2 or request.user.user_type == 1 %}

            {% else %}

              {% if std.Department %}
              <td><center><a href="{% url 'AddDepStd' std.id %}"><button class="btn btn-primary">Change Department</button></a></center></td>
              {% else %}
              <td><center><a href="{% url 'AddDepStd' std.id %}"><button class="btn btn-primary">ADD Department</button></a></center></td>
              {% endif %}

            {% endif %}
          </tr>

          <tr>
            <th scope="col">Courses</th>
            {% if std.Courses %}
            <td>{% for c in std.Courses.all %}
                {{ c }} 

            <!--               
                {% for t1 in t %}
                  {% for tc in t1.Courses.all %}

                      {% if tc == c %}
                  
                      {{t1.Name}}<br>

                      {% endif %}

                  {% endfor %}
              {% endfor %} -->

              <br>

                {% endfor %}</td>
            {% else %}
            <td>No courses yet</td>
            {% endif %}
            {% if request.user.user_type == 2 or request.user.user_type == 1 %}

            {% else %}

            <td><center><a href="{% url 'ShowCourseStd' std.id %}"><button class="btn btn-primary">Add Course</button></a></center></td>
              {% endif %}
            </tr>

        </thead>
      </table>

    </div>
  </div>
</div>

</center>
{% endblock %}
